<div class="favorite-books-container">
    <div *ngIf="loading" class="loading-state">
        <p>ğŸ”„ Äang táº£i sÃ¡ch yÃªu thÃ­ch...</p>
    </div>

    <div *ngIf="!loading && favoriteBooks.length === 0 && !errorMessage" class="empty-state">
        <p>â¤ï¸ Báº¡n chÆ°a cÃ³ cuá»‘n sÃ¡ch yÃªu thÃ­ch nÃ o.</p>
        <p>HÃ£y tÃ¬m kiáº¿m vÃ  thÃªm vÃ o danh sÃ¡ch yÃªu thÃ­ch cá»§a báº¡n!</p>
    </div>

    <div *ngIf="errorMessage" class="error-message">
        <p>âš ï¸ {{ errorMessage }}</p>
    </div>

    <div class="book-grid" *ngIf="paginatedFavorites.length > 0">
        <ng-container *ngFor="let book of paginatedFavorites">
            <ng-container *ngIf="book && book._id">
                <app-book-card [book]="book" [showActions]="true" [isFavorite]="isInFavorites(book._id)"
                    (toggleFavorite)="toggleFavorite(book._id)" (addToCart)="addToCart(book._id)"
                    class="book-card-item"></app-book-card>
            </ng-container>
        </ng-container>
    </div>
    <div class="paginator-container" *ngIf="totalItems > pageSize">
        <mat-paginator [length]="totalItems" [pageSize]="pageSize" [pageIndex]="currentPage - 1"
            [pageSizeOptions]="[pageSize]" (page)="onPageChange($event)">
        </mat-paginator>
    </div>
</div>