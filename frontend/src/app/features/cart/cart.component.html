<mat-card *ngIf="loading">
    <mat-card-content>ƒêang t·∫£i gi·ªè h√†ng...</mat-card-content>
</mat-card>

<mat-card *ngIf="!loading && cart?.items?.length">
    <mat-card-title>Gi·ªè h√†ng c·ªßa b·∫°n</mat-card-title>

    <div *ngFor="let item of cart?.items" class="cart-item">
        <img [src]="item.book.coverUrl || ('http://covers.openlibrary.org/b/id/' + item.book.cover + '-S.jpg')"
            alt="cover">
        <div class="cart-item-info">
            <h4>{{ item.book.title }}</h4>
            <p>{{ item.book.price | currency:'VND' }}</p>
            <input type="number" [(ngModel)]="item.quantity" (change)="updateQuantity(item.book._id!, item.quantity)">
        </div>
        <button mat-icon-button color="warn" (click)="removeItem(item.book._id!)">
            <mat-icon>delete</mat-icon>
        </button>
    </div>

    <mat-card-content class="cart-total">
        <strong>T·ªïng:</strong> {{ total() | currency:'VND' }}
    </mat-card-content>

    <mat-card-actions>
        <button mat-raised-button color="warn" (click)="clearCart()">X√≥a to√†n b·ªô</button>
        <button mat-raised-button color="primary" (click)="submitOrder()">Thanh to√°n</button>
    </mat-card-actions>
</mat-card>

<mat-card *ngIf="!loading && !cart?.items?.length">
    <mat-card-content>üõí Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng.</mat-card-content>
</mat-card>